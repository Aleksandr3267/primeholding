import{r as h,j as t,A as Y}from"./index-d83cef06.js";import{m as D}from"./modalCloseGallery-fa70d5a0.js";const $="Left",A="Right",G="Up",z="Down",S={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},_={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},R="mousemove",X="mouseup",H="touchend",V="touchmove",q="touchstart";function B(e,l,o,a){return e>l?o>0?A:$:a>0?z:G}function W(e,l){if(l===0)return e;const o=Math.PI/180*l,a=e[0]*Math.cos(o)+e[1]*Math.sin(o),m=e[1]*Math.cos(o)-e[0]*Math.sin(o);return[a,m]}function F(e,l){const o=s=>{const n="touches"in s;n&&s.touches.length>1||e((c,i)=>{i.trackMouse&&!n&&(document.addEventListener(R,a),document.addEventListener(X,v));const{clientX:g,clientY:u}=n?s.touches[0]:s,b=W([g,u],i.rotationAngle);return i.onTouchStartOrOnMouseDown&&i.onTouchStartOrOnMouseDown({event:s}),Object.assign(Object.assign(Object.assign({},c),_),{initial:b.slice(),xy:b,start:s.timeStamp||0})})},a=s=>{e((n,c)=>{const i="touches"in s;if(i&&s.touches.length>1)return n;if(s.timeStamp-n.start>c.swipeDuration)return n.swiping?Object.assign(Object.assign({},n),{swiping:!1}):n;const{clientX:g,clientY:u}=i?s.touches[0]:s,[b,M]=W([g,u],c.rotationAngle),d=b-n.xy[0],w=M-n.xy[1],f=Math.abs(d),j=Math.abs(w),N=(s.timeStamp||0)-n.start,U=Math.sqrt(f*f+j*j)/(N||1),L=[d/(N||1),w/(N||1)],T=B(f,j,d,w),E=typeof c.delta=="number"?c.delta:c.delta[T.toLowerCase()]||S.delta;if(f<E&&j<E&&!n.swiping)return n;const x={absX:f,absY:j,deltaX:d,deltaY:w,dir:T,event:s,first:n.first,initial:n.initial,velocity:U,vxvy:L};x.first&&c.onSwipeStart&&c.onSwipeStart(x),c.onSwiping&&c.onSwiping(x);let k=!1;return(c.onSwiping||c.onSwiped||c[`onSwiped${T}`])&&(k=!0),k&&c.preventScrollOnSwipe&&c.trackTouch&&s.cancelable&&s.preventDefault(),Object.assign(Object.assign({},n),{first:!1,eventData:x,swiping:!0})})},m=s=>{e((n,c)=>{let i;if(n.swiping&&n.eventData){if(s.timeStamp-n.start<c.swipeDuration){i=Object.assign(Object.assign({},n.eventData),{event:s}),c.onSwiped&&c.onSwiped(i);const g=c[`onSwiped${i.dir}`];g&&g(i)}}else c.onTap&&c.onTap({event:s});return c.onTouchEndOrOnMouseUp&&c.onTouchEndOrOnMouseUp({event:s}),Object.assign(Object.assign(Object.assign({},n),_),{eventData:i})})},y=()=>{document.removeEventListener(R,a),document.removeEventListener(X,v)},v=s=>{y(),m(s)},p=(s,n)=>{let c=()=>{};if(s&&s.addEventListener){const i=Object.assign(Object.assign({},S.touchEventOptions),n.touchEventOptions),g=[[q,o,i],[V,a,Object.assign(Object.assign({},i),n.preventScrollOnSwipe?{passive:!1}:{})],[H,m,i]];g.forEach(([u,b,M])=>s.addEventListener(u,b,M)),c=()=>g.forEach(([u,b])=>s.removeEventListener(u,b))}return c},O={ref:s=>{s!==null&&e((n,c)=>{if(n.el===s)return n;const i={};return n.el&&n.el!==s&&n.cleanUpTouch&&(n.cleanUpTouch(),i.cleanUpTouch=void 0),c.trackTouch&&s&&(i.cleanUpTouch=p(s,c)),Object.assign(Object.assign(Object.assign({},n),{el:s}),i)})}};return l.trackMouse&&(O.onMouseDown=o),[O,p]}function K(e,l,o,a){return!l.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?l.preventScrollOnSwipe!==o.preventScrollOnSwipe||l.touchEventOptions.passive!==o.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:a(e.el,l)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:a(e.el,l)})}function J(e){const{trackMouse:l}=e,o=h.useRef(Object.assign({},_)),a=h.useRef(Object.assign({},S)),m=h.useRef(Object.assign({},a.current));m.current=Object.assign({},a.current),a.current=Object.assign(Object.assign({},S),e);let y;for(y in S)a.current[y]===void 0&&(a.current[y]=S[y]);const[v,p]=h.useMemo(()=>F(C=>o.current=C(o.current,a.current),{trackMouse:l}),[l]);return o.current=K(o.current,a.current,m.current,p),v}const Q="/assets/architecture6-ff1f198f.webp",Z="/assets/architecture2-656b36e5.webp",ee="/assets/architecture3-2a361987.webp",te="/assets/architecture4-c10978ba.webp",se="/assets/architecture5-e9acdcc0.webp",ne="/assets/architecture9-0f4797bd.webp",ce="/assets/architecture7-14762045.webp",ie="/assets/architecture8-e228a760.webp",re="/assets/architecture1-642c9b58.webp",ae="/assets/views1-13a1fc93.webp",oe="/assets/views2-b1771b38.webp",le="/assets/views3-fb25345e.webp",ue="/assets/views4-ce3994da.webp",de="/assets/prime-city1-15e06724.webp",he="/assets/prime-city2-2805f364.webp",ge="/assets/prime-city3-c811af13.webp",me="/assets/prime-city4-451a84bc.webp",be="/assets/prime-city5-1dd255bb.webp",fe="/assets/prime-city6-3f775f7c.webp",ye="/assets/prime-city7-fde50ee1.webp",we="/assets/arrowNext-c9beba38.svg",ve="/assets/arrowPrev-38cfeeb1.svg",je="/assets/call-icon-1eaf276e.svg",xe="/assets/cursorPrev-c552f46b.svg",pe="/assets/openListCategory-12de4c22.svg";function Ce(){const[e,l]=h.useState("Все фото"),[o,a]=h.useState(0),[m,y]=h.useState(null),[v,p]=h.useState(null),[C,O]=h.useState(!1),[s,n]=h.useState(!1),[c,i]=h.useState(window.innerWidth<=991),g=[{id:1,category:"Архитектура",url:Q},{id:2,category:"Архитектура",url:Z},{id:3,category:"Архитектура",url:ee},{id:4,category:"Архитектура",url:te},{id:5,category:"Архитектура",url:se},{id:6,category:"Архитектура",url:ne},{id:7,category:"Архитектура",url:ce},{id:8,category:"Архитектура",url:ie},{id:9,category:"Архитектура",url:re},{id:10,category:"Виды",url:ae},{id:11,category:"Виды",url:oe},{id:12,category:"Виды",url:le},{id:13,category:"Виды",url:ue},{id:14,category:"Prime City",url:de},{id:15,category:"Prime City",url:he},{id:16,category:"Prime City",url:ye},{id:17,category:"Prime City",url:me},{id:18,category:"Prime City",url:be},{id:19,category:"Prime City",url:fe},{id:20,category:"Prime City",url:ge}],u=e==="Все фото"?g:g.filter(r=>r.category===e),b=u[o],M=h.useRef(null),d=r=>{l(r),a(0),n(!1)},w=()=>{a(r=>(r+1)%u.length)},f=()=>{a(r=>(r-1+u.length)%u.length)},j=()=>{f()},N=()=>{w()},U=r=>{const P=r.target.offsetWidth,I=r.nativeEvent.offsetX;window.innerWidth>991&&(y(r.pageX),p(r.pageY),I<P/2?(r.target.style.cursor="none",O("Назад")):(r.target.style.cursor="none",O("Вперед")))},L=()=>{O(!1)},T=r=>{const P=r.target.offsetWidth,I=r.nativeEvent.offsetX;window.innerWidth>991&&(I<P/2?f():w())},E=()=>{n(r=>!r)},x=()=>{i(window.innerWidth<=991)};h.useEffect(()=>(window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}),[]);const k=J({onSwipedLeft:c?w:null,onSwipedRight:c?f:null});return t.jsx("div",{className:"modal fade slider gallery",id:"galleryModal",ref:M,tabIndex:-1,"aria-labelledby":"galleryModal","aria-hidden":"true",...k,children:t.jsx("div",{className:"modal-dialog modal-fullscreen",children:t.jsx("div",{className:"modal-content",children:t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"modal-gallery__body-content",children:[t.jsxs("div",{className:"gallery__top",children:[t.jsx(Y,{className:"title-anim hero-title title title-lg",children:"Галерея"}),t.jsx("button",{type:"button",className:"modal-gallery__btn-close","data-bs-dismiss":"modal","aria-label":"Закрыть",children:t.jsx("img",{src:D,alt:"Закрыть"})})]}),b&&t.jsx("div",{children:u.map((r,P)=>t.jsx("div",{className:`slide ${P===o?"":"hidden"}`,onMouseMove:U,onMouseLeave:L,onClick:T,children:t.jsx("img",{src:r.url,alt:`Image ${r.id}`})},r.id))}),t.jsx("div",{className:"gallery__center"}),t.jsxs("div",{className:"gallery__bottom",children:[t.jsxs("div",{className:"category-menu",children:[t.jsxs("button",{className:"category-menu__toggle",onClick:E,children:[e," ",t.jsx("img",{src:pe,alt:"icon"})]}),t.jsxs("div",{className:`category-menu__list ${s?"visible":""}`,children:[t.jsx("button",{className:e==="Все фото"?"active":"",onClick:()=>d("Все фото"),children:"Все фото"}),t.jsx("button",{className:e==="Архитектура"?"active":"",onClick:()=>d("Архитектура"),children:"Архитектура"}),t.jsx("button",{className:e==="Виды"?"active":"",onClick:()=>d("Виды"),children:"Виды"}),t.jsx("button",{className:e==="Prime City"?"active":"",onClick:()=>d("Prime City"),children:"Prime City"}),t.jsx("button",{className:"category-menu__close",onClick:E,children:t.jsx("img",{src:D,alt:"Закрыть"})})]})]}),t.jsxs("div",{className:"category",children:[t.jsx("button",{className:e==="Все фото"?"active":"",onClick:()=>d("Все фото"),children:"Все фото"}),t.jsx("button",{className:e==="Архитектура"?"active":"",onClick:()=>d("Архитектура"),children:"Архитектура"}),t.jsx("button",{className:e==="Виды"?"active":"",onClick:()=>d("Виды"),children:"Виды"}),t.jsx("button",{className:e==="Prime City"?"active":"",onClick:()=>d("Prime City"),children:"Prime City"})]}),t.jsxs("div",{className:"buttons",children:[t.jsx("button",{onClick:j,children:t.jsx("img",{src:ve,alt:"Назад"})}),t.jsxs("div",{className:"slide-count",children:[o+1," / ",u.length]}),t.jsx("button",{onClick:N,children:t.jsx("img",{src:we,alt:"Вперед"})})]})]}),t.jsxs("div",{className:`text-back ${C==="Назад"?"show":""}`,style:{left:m,top:v},children:[t.jsx("img",{src:xe,alt:"Назад"}),"Назад"]}),t.jsxs("div",{className:`text-next ${C==="Вперед"?"show":""}`,style:{left:m,top:v},children:["Вперед ",t.jsx("img",{src:je,alt:"Вперед"})]})]})})})})})}export{Ce as default};
