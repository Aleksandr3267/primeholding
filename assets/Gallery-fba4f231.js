import{r as h,j as t,A as Y}from"./index-254d410c.js";import{m as D}from"./modalCloseGallery-c134fbeb.js";const $="Left",A="Right",G="Up",z="Down",S={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},_={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},R="mousemove",X="mouseup",H="touchend",V="touchmove",q="touchstart";function B(e,l,a,o){return e>l?a>0?A:$:o>0?z:G}function W(e,l){if(l===0)return e;const a=Math.PI/180*l,o=e[0]*Math.cos(a)+e[1]*Math.sin(a),m=e[1]*Math.cos(a)-e[0]*Math.sin(a);return[o,m]}function F(e,l){const a=s=>{const i="touches"in s;i&&s.touches.length>1||e((n,c)=>{c.trackMouse&&!i&&(document.addEventListener(R,o),document.addEventListener(X,w));const{clientX:g,clientY:u}=i?s.touches[0]:s,b=W([g,u],c.rotationAngle);return c.onTouchStartOrOnMouseDown&&c.onTouchStartOrOnMouseDown({event:s}),Object.assign(Object.assign(Object.assign({},n),_),{initial:b.slice(),xy:b,start:s.timeStamp||0})})},o=s=>{e((i,n)=>{const c="touches"in s;if(c&&s.touches.length>1)return i;if(s.timeStamp-i.start>n.swipeDuration)return i.swiping?Object.assign(Object.assign({},i),{swiping:!1}):i;const{clientX:g,clientY:u}=c?s.touches[0]:s,[b,M]=W([g,u],n.rotationAngle),d=b-i.xy[0],p=M-i.xy[1],f=Math.abs(d),v=Math.abs(p),N=(s.timeStamp||0)-i.start,U=Math.sqrt(f*f+v*v)/(N||1),L=[d/(N||1),p/(N||1)],T=B(f,v,d,p),E=typeof n.delta=="number"?n.delta:n.delta[T.toLowerCase()]||S.delta;if(f<E&&v<E&&!i.swiping)return i;const j={absX:f,absY:v,deltaX:d,deltaY:p,dir:T,event:s,first:i.first,initial:i.initial,velocity:U,vxvy:L};j.first&&n.onSwipeStart&&n.onSwipeStart(j),n.onSwiping&&n.onSwiping(j);let k=!1;return(n.onSwiping||n.onSwiped||n[`onSwiped${T}`])&&(k=!0),k&&n.preventScrollOnSwipe&&n.trackTouch&&s.cancelable&&s.preventDefault(),Object.assign(Object.assign({},i),{first:!1,eventData:j,swiping:!0})})},m=s=>{e((i,n)=>{let c;if(i.swiping&&i.eventData){if(s.timeStamp-i.start<n.swipeDuration){c=Object.assign(Object.assign({},i.eventData),{event:s}),n.onSwiped&&n.onSwiped(c);const g=n[`onSwiped${c.dir}`];g&&g(c)}}else n.onTap&&n.onTap({event:s});return n.onTouchEndOrOnMouseUp&&n.onTouchEndOrOnMouseUp({event:s}),Object.assign(Object.assign(Object.assign({},i),_),{eventData:c})})},y=()=>{document.removeEventListener(R,o),document.removeEventListener(X,w)},w=s=>{y(),m(s)},x=(s,i)=>{let n=()=>{};if(s&&s.addEventListener){const c=Object.assign(Object.assign({},S.touchEventOptions),i.touchEventOptions),g=[[q,a,c],[V,o,Object.assign(Object.assign({},c),i.preventScrollOnSwipe?{passive:!1}:{})],[H,m,c]];g.forEach(([u,b,M])=>s.addEventListener(u,b,M)),n=()=>g.forEach(([u,b])=>s.removeEventListener(u,b))}return n},O={ref:s=>{s!==null&&e((i,n)=>{if(i.el===s)return i;const c={};return i.el&&i.el!==s&&i.cleanUpTouch&&(i.cleanUpTouch(),c.cleanUpTouch=void 0),n.trackTouch&&s&&(c.cleanUpTouch=x(s,n)),Object.assign(Object.assign(Object.assign({},i),{el:s}),c)})}};return l.trackMouse&&(O.onMouseDown=a),[O,x]}function K(e,l,a,o){return!l.trackTouch||!e.el?(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0})):e.cleanUpTouch?l.preventScrollOnSwipe!==a.preventScrollOnSwipe||l.touchEventOptions.passive!==a.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:o(e.el,l)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:o(e.el,l)})}function J(e){const{trackMouse:l}=e,a=h.useRef(Object.assign({},_)),o=h.useRef(Object.assign({},S)),m=h.useRef(Object.assign({},o.current));m.current=Object.assign({},o.current),o.current=Object.assign(Object.assign({},S),e);let y;for(y in S)o.current[y]===void 0&&(o.current[y]=S[y]);const[w,x]=h.useMemo(()=>F(C=>a.current=C(a.current,o.current),{trackMouse:l}),[l]);return a.current=K(a.current,o.current,m.current,x),w}const Q="/primeholding/assets/architecture6-ff1f198f.webp",Z="/primeholding/assets/architecture2-656b36e5.webp",ee="/primeholding/assets/architecture3-2a361987.webp",te="/primeholding/assets/architecture4-c10978ba.webp",se="/primeholding/assets/architecture5-e9acdcc0.webp",ie="/primeholding/assets/architecture9-0f4797bd.webp",ne="/primeholding/assets/architecture7-14762045.webp",ce="/primeholding/assets/architecture8-e228a760.webp",re="/primeholding/assets/architecture1-642c9b58.webp",oe="/primeholding/assets/views1-13a1fc93.webp",ae="/primeholding/assets/views2-b1771b38.webp",le="/primeholding/assets/views3-fb25345e.webp",ue="/primeholding/assets/views4-ce3994da.webp",de="/primeholding/assets/prime-city1-15e06724.webp",he="/primeholding/assets/prime-city2-2805f364.webp",ge="/primeholding/assets/prime-city3-c811af13.webp",me="/primeholding/assets/prime-city4-451a84bc.webp",be="/primeholding/assets/prime-city5-1dd255bb.webp",fe="/primeholding/assets/prime-city6-3f775f7c.webp",ye="/primeholding/assets/prime-city7-fde50ee1.webp",pe="/primeholding/assets/arrowNext-c9beba38.svg",we="/primeholding/assets/arrowPrev-38cfeeb1.svg",ve="/primeholding/assets/call-icon-1eaf276e.svg",je="/primeholding/assets/cursorPrev-c552f46b.svg",xe="/primeholding/assets/openListCategory-12de4c22.svg";function Ce(){const[e,l]=h.useState("Все фото"),[a,o]=h.useState(0),[m,y]=h.useState(null),[w,x]=h.useState(null),[C,O]=h.useState(!1),[s,i]=h.useState(!1),[n,c]=h.useState(window.innerWidth<=991),g=[{id:1,category:"Архитектура",url:Q},{id:2,category:"Архитектура",url:Z},{id:3,category:"Архитектура",url:ee},{id:4,category:"Архитектура",url:te},{id:5,category:"Архитектура",url:se},{id:6,category:"Архитектура",url:ie},{id:7,category:"Архитектура",url:ne},{id:8,category:"Архитектура",url:ce},{id:9,category:"Архитектура",url:re},{id:10,category:"Виды",url:oe},{id:11,category:"Виды",url:ae},{id:12,category:"Виды",url:le},{id:13,category:"Виды",url:ue},{id:14,category:"Prime City",url:de},{id:15,category:"Prime City",url:he},{id:16,category:"Prime City",url:ye},{id:17,category:"Prime City",url:me},{id:18,category:"Prime City",url:be},{id:19,category:"Prime City",url:fe},{id:20,category:"Prime City",url:ge}],u=e==="Все фото"?g:g.filter(r=>r.category===e),b=u[a],M=h.useRef(null),d=r=>{l(r),o(0),i(!1)},p=()=>{o(r=>(r+1)%u.length)},f=()=>{o(r=>(r-1+u.length)%u.length)},v=()=>{f()},N=()=>{p()},U=r=>{const P=r.target.offsetWidth,I=r.nativeEvent.offsetX;window.innerWidth>991&&(y(r.pageX),x(r.pageY),I<P/2?(r.target.style.cursor="none",O("Назад")):(r.target.style.cursor="none",O("Вперед")))},L=()=>{O(!1)},T=r=>{const P=r.target.offsetWidth,I=r.nativeEvent.offsetX;window.innerWidth>991&&(I<P/2?f():p())},E=()=>{i(r=>!r)},j=()=>{c(window.innerWidth<=991)};h.useEffect(()=>(window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}),[]);const k=J({onSwipedLeft:n?p:null,onSwipedRight:n?f:null});return t.jsx("div",{className:"modal fade slider gallery",id:"galleryModal",ref:M,tabIndex:-1,"aria-labelledby":"galleryModal","aria-hidden":"true",...k,children:t.jsx("div",{className:"modal-dialog modal-fullscreen",children:t.jsx("div",{className:"modal-content",children:t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"modal-gallery__body-content",children:[t.jsxs("div",{className:"gallery__top",children:[t.jsx(Y,{className:"title-anim hero-title title title-lg",children:"Галерея"}),t.jsx("button",{type:"button",className:"modal-gallery__btn-close","data-bs-dismiss":"modal","aria-label":"Закрыть",children:t.jsx("img",{src:D,alt:"Закрыть"})})]}),b&&t.jsx("div",{children:u.map((r,P)=>t.jsx("div",{className:`slide ${P===a?"":"hidden"}`,onMouseMove:U,onMouseLeave:L,onClick:T,children:t.jsx("img",{src:r.url,alt:`Image ${r.id}`})},r.id))}),t.jsx("div",{className:"gallery__center"}),t.jsxs("div",{className:"gallery__bottom",children:[t.jsxs("div",{className:"category-menu",children:[t.jsxs("button",{className:"category-menu__toggle",onClick:E,children:[e," ",t.jsx("img",{src:xe,alt:"icon"})]}),t.jsxs("div",{className:`category-menu__list ${s?"visible":""}`,children:[t.jsx("button",{className:e==="Все фото"?"active":"",onClick:()=>d("Все фото"),children:"Все фото"}),t.jsx("button",{className:e==="Архитектура"?"active":"",onClick:()=>d("Архитектура"),children:"Архитектура"}),t.jsx("button",{className:e==="Виды"?"active":"",onClick:()=>d("Виды"),children:"Виды"}),t.jsx("button",{className:e==="Prime City"?"active":"",onClick:()=>d("Prime City"),children:"Prime City"}),t.jsx("button",{className:"category-menu__close",onClick:E,children:t.jsx("img",{src:D,alt:"Закрыть"})})]})]}),t.jsxs("div",{className:"category",children:[t.jsx("button",{className:e==="Все фото"?"active":"",onClick:()=>d("Все фото"),children:"Все фото"}),t.jsx("button",{className:e==="Архитектура"?"active":"",onClick:()=>d("Архитектура"),children:"Архитектура"}),t.jsx("button",{className:e==="Виды"?"active":"",onClick:()=>d("Виды"),children:"Виды"}),t.jsx("button",{className:e==="Prime City"?"active":"",onClick:()=>d("Prime City"),children:"Prime City"})]}),t.jsxs("div",{className:"buttons",children:[t.jsx("button",{onClick:v,children:t.jsx("img",{src:we,alt:"Назад"})}),t.jsxs("div",{className:"slide-count",children:[a+1," / ",u.length]}),t.jsx("button",{onClick:N,children:t.jsx("img",{src:pe,alt:"Вперед"})})]})]}),t.jsxs("div",{className:`text-back ${C==="Назад"?"show":""}`,style:{left:m,top:w},children:[t.jsx("img",{src:je,alt:"Назад"}),"Назад"]}),t.jsxs("div",{className:`text-next ${C==="Вперед"?"show":""}`,style:{left:m,top:w},children:["Вперед ",t.jsx("img",{src:ve,alt:"Вперед"})]})]})})})})})}export{Ce as default};
